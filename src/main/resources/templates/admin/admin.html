<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec = "http://www.thymeleaf.org/extras/spring-security">
<head>
  <title th:text="блог"/>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link   rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
<header th:insert="blocks/header :: header"></header>

<div class="container mt-5" >
  <h3>Пользователи</h3>

  <div th:each="el : ${users}" class="alert alert-info mt-2">
    <h5>Email: <h3 th:text="${el.email}"/></h5>
    <h5>Имя: <h3 th:text="${el.name}"/></h5>
    <h5>Номер: <p th:text="${el.numberPhone}"/></h5>
    <h5>Активность: <p th:text="${el.active}"/></h5>
    <h5>Роли:<span th:each="role : ${el.roles}" th:text="${role}+' '" th:if="${!#lists.isEmpty(el.roles)}"></span></h5>
    <h5>Бан: <form th:action="'/admin/user/ban/'+ ${el.id}" method="post">
      <input type="hidden" th:name="${_csrf}" th:value="${_csrf.token}" >
      <button type="submit" class="btn btn-success">Забанить</button>
    </form></h5>
    <a th:href="'/user/'+${el.id}" class="btn btn-success">детали</a>

    <a th:href="'/admin/user/edit/'+${el.id}" class="btn btn-success">Редактировать</a>


  </div>


</div>

<div th:insert="blocks/footer :: footer"></div>
</body>
</html>