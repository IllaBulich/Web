<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec = "http://www.thymeleaf.org/extras/spring-security">
<head>
  <title th:text="блог"/>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link   rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
<header th:insert="blocks/header :: header"></header>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>

<div class="container mt-5" >
  <div class="alert alert-info mt-2">
    <h3 th:text="${immovables.title}"/>
    <p th:text="${immovables.city}"/>
    <p th:text="${immovables.street}"/>
    <p th:text="${immovables.address}"/>
    <p th:text="${immovables.description}"/>
    <a th:href="'/user/info/'+ ${immovables.user.id}"  th:text="${immovables.user.name}"></a>
    <div th:each="img: ${images}" >
      <img th:src="'/images/'+${img.id}" height="60px" ><br>

    </div>

    <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
        <div  class="carousel-inner">
            <div th:each="image, i : ${images}" class="carousel-item " th:classappend="${i.index == 0} ? 'active' : ''">
                <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" role="img" aria-label=" :  " preserveAspectRatio="xMidYMid slice" focusable="false">
                    <title></title>
                    <rect width="100%" height="100%" fill="#777"></rect>
                    <text x="50%" y="50%" fill="#777" dy=".3em"></text>
                </svg>
                <div class="container">
                    <div class="carousel-caption">
                        <a th:href="@{/images/{id}(id=${image.id})}">
                            <img class="product" style="height: 100px" th:src="@{/images/{id}(id=${image.id})}">
                        </a>

                    </div>
                </div>
            </div>

        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

      <p><b>Цена: </b><span th:text="${immovables.price}"/></p>
   <p th:text="${immovables.details.realtySupType}"/>
    <p th:text="${immovables.details.rooms}"/>
    <p th:text="${immovables.details.floor}"/>
    <p th:text="${immovables.details.square}"/>
    <p th:text="${immovables.details.livingSpace}"/>
    <p th:text="${immovables.details.kitchenSpace}"/>
    <p th:text="${immovables.details.balcony}"/>
    <p th:text="${immovables.details.bathroom}"/>
    <div th:if="${user.id == immovables.user.id}">
        <a  th:href="'/immovables/' + ${immovables.id} + '/edit'" class="btn btn-warning">Редактировать</a><br><br>
        <form th:action="'/immovables/' + ${immovables.id} + '/remove'" method="post">
          <button class="btn btn-warning" type="submit">Удалить</button>
        </form>
    </div>

  </div>
</div>

<div th:insert="blocks/footer :: footer"></div>
</body>
</html>